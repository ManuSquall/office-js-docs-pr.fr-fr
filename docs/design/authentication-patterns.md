# <a name="authentication-patterns"></a><span data-ttu-id="c75aa-101">Modèles d'authentification</span><span class="sxs-lookup"><span data-stu-id="c75aa-101">Authentication patterns</span></span>

<span data-ttu-id="c75aa-102">Les compléments peuvent exiger que les utilisateurs se connectent ou s'inscrivent afin d'accéder aux fonctions et fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="c75aa-102">Add-ins may require users to sign-in or sign-up in order to access features and functionality.</span></span> <span data-ttu-id="c75aa-103">Les zones de saisie du nom d'utilisateur et du mot de passe ou les boutons qui démarrent les flux d'informations d'identification tiers sont des contrôles d'interface courants dans les expériences d'authentification.</span><span class="sxs-lookup"><span data-stu-id="c75aa-103">Input boxes for username and password or buttons that start third party credential flows are common interface controls in authentication experiences.</span></span> <span data-ttu-id="c75aa-104">Une expérience d'authentification simple et efficace est une première étape importante pour que les utilisateurs commencent à utiliser votre complément.</span><span class="sxs-lookup"><span data-stu-id="c75aa-104">A simple and efficient authentication experience is an important first step to getting users started with your add-in.</span></span>

## <a name="best-practices"></a><span data-ttu-id="c75aa-105">Meilleures pratiques</span><span class="sxs-lookup"><span data-stu-id="c75aa-105">Best practices</span></span>

|<span data-ttu-id="c75aa-106">À faire</span><span class="sxs-lookup"><span data-stu-id="c75aa-106">Do</span></span>|<span data-ttu-id="c75aa-107">À ne pas faire</span><span class="sxs-lookup"><span data-stu-id="c75aa-107">Don't</span></span>|
|:----|:----|
|<span data-ttu-id="c75aa-108">Utilisez l'authentification unique (SSO) pour authentifier les utilisateurs dans votre complément.</span><span class="sxs-lookup"><span data-stu-id="c75aa-108">Use single sign-on (SSO) to authenticate users into your add-in.</span></span>|<span data-ttu-id="c75aa-109">Demander aux utilisateurs de se connecter à votre complément séparément de leur compte Microsoft personnel ou de leur compte Office 365 (travail ou école).</span><span class="sxs-lookup"><span data-stu-id="c75aa-109">Require users to sign into your add-in separately from their personal Microsoft account or their Office 365 account (work or school).</span></span>|
|<span data-ttu-id="c75aa-110">Avant l'étape de connexion, décrivez la valeur de votre complément ou démontrez sa fonctionnalité sans avoir besoin d'un compte.</span><span class="sxs-lookup"><span data-stu-id="c75aa-110">Prior to sign-in, describe the value of your add-in or demonstrate functionality without requiring an account.</span></span> |<span data-ttu-id="c75aa-111">Attendez-vous à ce que les utilisateurs se connectent sans comprendre la valeur et les avantages de votre complément.</span><span class="sxs-lookup"><span data-stu-id="c75aa-111">Expect users to sign-in without understanding the value and benefits of your add-in.</span></span>|
|<span data-ttu-id="c75aa-112">Guidez les utilisateurs à travers l'authentification avec un bouton principal, très visible sur chaque écran.</span><span class="sxs-lookup"><span data-stu-id="c75aa-112">Guide users through authentication flows with a primary, highly visible button on each screen.</span></span> |<span data-ttu-id="c75aa-113">Attirez l'attention sur les tâches secondaires et tertiaires avec des boutons concurrents et des appels à l'action.</span><span class="sxs-lookup"><span data-stu-id="c75aa-113">Draw attention to secondary and tertiary tasks with competing buttons and calls to action.</span></span>|
|<span data-ttu-id="c75aa-114">Utilisez des noms de bouton décrivant des tâches spécifiques, tels que « Connexion » ou « Créer un compte ».</span><span class="sxs-lookup"><span data-stu-id="c75aa-114">Use clear button labels that describe specific tasks like "Sign in" or "Create account".</span></span>   |<span data-ttu-id="c75aa-115">Utilisez des noms de bouton vagues tels que « Envoyer » ou « Commencer » pour guider les utilisateurs à travers les flux d'authentification.</span><span class="sxs-lookup"><span data-stu-id="c75aa-115">Use vague button labels like "Submit" or "Get started" to guide users through authentication flows.</span></span>|
|<span data-ttu-id="c75aa-116">Utilisez une boîte de dialogue pour attirer l'attention des utilisateurs sur les formulaires d'authentification.</span><span class="sxs-lookup"><span data-stu-id="c75aa-116">Use a dialog to focus users' attention on authentication forms.</span></span>    |<span data-ttu-id="c75aa-117">Surchargez votre volet de tâches avec une première expérience d'exécution et des formulaires d'authentification.</span><span class="sxs-lookup"><span data-stu-id="c75aa-117">Overcrowd your task pane with a first run experience and authentication forms.</span></span>|
|<span data-ttu-id="c75aa-118">Trouvez de petites fonctionnalités dans le flux comme la mise au point automatique sur les boîtes de saisie.</span><span class="sxs-lookup"><span data-stu-id="c75aa-118">Find small efficiencies in the flow like auto-focusing on input boxes.</span></span> |<span data-ttu-id="c75aa-119">Ajoutez des étapes inutiles à l'interaction, par exemple en demandant aux utilisateurs de cliquer dans les champs de formulaire.</span><span class="sxs-lookup"><span data-stu-id="c75aa-119">Add unnecessary steps to the interaction like requiring users to click into form fields.</span></span>|
|<span data-ttu-id="c75aa-120">Fournir aux utilisateurs un moyen de se déconnecter et de se ré-authentifier.</span><span class="sxs-lookup"><span data-stu-id="c75aa-120">Provide a way for users to sign-out and reauthenticate.</span></span>    |<span data-ttu-id="c75aa-121">Forcer les utilisateurs à désinstaller pour changer d'identité.</span><span class="sxs-lookup"><span data-stu-id="c75aa-121">Force users to uninstall to switch identities.</span></span>|

> [!NOTE]
> <span data-ttu-id="c75aa-122">L’API de l’authentification unique est actuellement prise en charge en mode aperçu pour Word, Excel, Outlook et PowerPoint.</span><span class="sxs-lookup"><span data-stu-id="c75aa-122">The Single Sign-on API is currently supported in preview for Word, Excel, Outlook, and PowerPoint.</span></span> <span data-ttu-id="c75aa-123">Pour plus d’informations sur l’endroit où l’API d’authentification unique est actuellement prise en charge, consultez la rubrique [Ensembles de conditions requises de l’API d’identité](https://dev.office.com/reference/add-ins/requirement-sets/identity-api-requirement-sets).</span><span class="sxs-lookup"><span data-stu-id="c75aa-123">For more information about where the Single Sign-on API is currently supported, see [IdentityAPI requirement sets](https://dev.office.com/reference/add-ins/requirement-sets/identity-api-requirement-sets).</span></span> <span data-ttu-id="c75aa-124">Si vous utilisez un complément Outlook, veillez à activer l’authentification moderne pour la location d’Office 365.</span><span class="sxs-lookup"><span data-stu-id="c75aa-124">If you are working with an Outlook add-in, be sure to enable Modern Authentication for the Office 365 tenancy.</span></span> <span data-ttu-id="c75aa-125">Pour plus d’informations sur la manière de procéder, consultez la rubrique [Exchange Online : Activation de votre client pour l’authentification moderne](https://social.technet.microsoft.com/wiki/contents/articles/32711.exchange-online-how-to-enable-your-tenant-for-modern-authentication.aspx).</span><span class="sxs-lookup"><span data-stu-id="c75aa-125">For information about how to do this, see [Exchange Online: How to enable your tenant for modern authentication](https://social.technet.microsoft.com/wiki/contents/articles/32711.exchange-online-how-to-enable-your-tenant-for-modern-authentication.aspx).</span></span>


## <a name="authentication-flow"></a><span data-ttu-id="c75aa-126">Flux d’authentification</span><span class="sxs-lookup"><span data-stu-id="c75aa-126">Authentication flow overview</span></span>
<span data-ttu-id="c75aa-127">Si la connexion unique n'est pas encore disponible pour vos utilisateurs, envisagez un autre flux d'authentification.</span><span class="sxs-lookup"><span data-stu-id="c75aa-127">If single sign-on is not yet available to your users, consider an alternative authentication flow.</span></span> <span data-ttu-id="c75aa-128">Donnez aux utilisateurs le choix de se connecter directement à votre service ou à un fournisseur d'identité tel que Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c75aa-128">Give users a choice to sign-in directly with your service or an identity provider like Microsoft.</span></span>

1. <span data-ttu-id="c75aa-129">First Run Placemat - Placez votre bouton de connexion comme une action d'appel claire dans la première expérience d'exécution de votre complément.</span><span class="sxs-lookup"><span data-stu-id="c75aa-129">First Run Placemat - Place your sign-in button as a clear call-to action inside your add-in's first run experience.</span></span>
![](../images/add-in-fre-value-placemat.png)

2. <span data-ttu-id="c75aa-130">Boîte de dialogue Choix du fournisseur d'identité - Affiche une liste claire des fournisseurs d'identité, y compris un formulaire pour un nom d'utilisateur et un mot de passe, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="c75aa-130">Identity Provider Choices Dialog - Display a clear list of identity providers including a username and password form if applicable.</span></span> <span data-ttu-id="c75aa-131">Votre interface utilisateur peut être bloquée pendant que la boîte de dialogue d'authentification est ouverte.</span><span class="sxs-lookup"><span data-stu-id="c75aa-131">Your add-in UI may be blocked while the authentication dialog is open.</span></span>
![](../images/add-in-auth-choices-dialog.png)



3. <span data-ttu-id="c75aa-132">Connexion au fournisseur d'identité - Le fournisseur d'identité aura sa propre interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c75aa-132">Identity Provider Sign-in - The identity provider will have their own UI.</span></span> <span data-ttu-id="c75aa-133">Microsoft Azure Active Directory permet la personnalisation des pages de connexion et d'accès pour une apparence cohérente avec votre service.</span><span class="sxs-lookup"><span data-stu-id="c75aa-133">Microsoft Azure Active Directory allows customization of sign-in and access panel pages for consistent look and feel with your service.</span></span> <span data-ttu-id="c75aa-134">[En savoir plus](https://docs.microsoft.com/azure/active-directory/fundamentals/customize-branding).</span><span class="sxs-lookup"><span data-stu-id="c75aa-134">Learn More</span></span>
![](../images/add-in-auth-identity-sign-in.png)

4. <span data-ttu-id="c75aa-135">Progression - Indique la progression lorsque les paramètres et l'interface utilisateur sont chargés.</span><span class="sxs-lookup"><span data-stu-id="c75aa-135">Progress - Indicate progress while settings and UI load.</span></span>
![](../images/add-in-auth-modal-interstitial.png)

> [!NOTE] 
> <span data-ttu-id="c75aa-136">Lorsque vous utilisez le service Identité de Microsoft, vous avez la possibilité d'utiliser un bouton de connexion de marque personnalisable selon des thèmes clairs et sombres.</span><span class="sxs-lookup"><span data-stu-id="c75aa-136">When using Microsoft's Identity service you'll have the opportunity to use a branded sign-in button that is customizable to light and dark themes.</span></span> <span data-ttu-id="c75aa-137">En savoir plus.</span><span class="sxs-lookup"><span data-stu-id="c75aa-137">Learn more.</span></span>

## <a name="single-sign-on-authentication-flow"></a><span data-ttu-id="c75aa-138">Flux d'authentification unique</span><span class="sxs-lookup"><span data-stu-id="c75aa-138">Single Sign-On authentication flow</span></span>
<span data-ttu-id="c75aa-139">L'authentification unique est toujours en préversion.</span><span class="sxs-lookup"><span data-stu-id="c75aa-139">Single sign-on is still in preview.</span></span> <span data-ttu-id="c75aa-140">Une fois disponible à grande échelle, utilisez-la pour une expérience utilisateur optimale.</span><span class="sxs-lookup"><span data-stu-id="c75aa-140">Once generally available, use it for the smoothest end-user experience.</span></span> <span data-ttu-id="c75aa-141">L'identité de l'utilisateur dans Office est utilisée pour se connecter à votre complément.</span><span class="sxs-lookup"><span data-stu-id="c75aa-141">The user's identity within Office is used to sign-in to your add-in.</span></span> <span data-ttu-id="c75aa-142">Par conséquent, les utilisateurs ne se connectent qu'une seule fois.</span><span class="sxs-lookup"><span data-stu-id="c75aa-142">As a result users only sign-in once.</span></span> <span data-ttu-id="c75aa-143">Cela supprime les frictions dans l'expérience, ce qui facilite le démarrage de vos clients.</span><span class="sxs-lookup"><span data-stu-id="c75aa-143">This removes friction in the experience making it easier for your customers to get started.</span></span>

1. <span data-ttu-id="c75aa-144">Lors de l'installation d'un complément, un utilisateur verra une fenêtre de consentement semblable à celle ci-dessous : ![](../images/add-in-auth-SSO-consent-dialog.png)</span><span class="sxs-lookup"><span data-stu-id="c75aa-144">As an add-in is being installed, a user will see a consent window similar to the one below: ![](../images/add-in-auth-SSO-consent-dialog.png)</span></span>
> [!NOTE]
> <span data-ttu-id="c75aa-145">L'éditeur de complément aura le contrôle sur le logo, les chaînes et les champs d'autorisation inclus dans la fenêtre de consentement.</span><span class="sxs-lookup"><span data-stu-id="c75aa-145">The add-in publisher will have control over the logo, strings and permission scopes included in the consent window.</span></span> <span data-ttu-id="c75aa-146">L'interface utilisateur est préconfigurée par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c75aa-146">The UI is pre-configured by Microsoft.</span></span>

2. <span data-ttu-id="c75aa-147">Le complément se chargera après que l'utilisateur aura consenti.</span><span class="sxs-lookup"><span data-stu-id="c75aa-147">The add-in will load after the user consents.</span></span> <span data-ttu-id="c75aa-148">Il peut extraire et afficher toutes les informations personnalisées nécessaires à l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c75aa-148">It can extract and display any necessary user customized information.</span></span>
![](../images/add-in-ribbon.png)

## <a name="see-also"></a><span data-ttu-id="c75aa-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c75aa-149">See also</span></span>
- <span data-ttu-id="c75aa-150">En savoir plus sur [le développement des compléments SSO](https://docs.microsoft.com/office/dev/add-ins/develop/sso-in-office-add-ins)</span><span class="sxs-lookup"><span data-stu-id="c75aa-150">Learn more about [developing SSO Add-ins](https://docs.microsoft.com/office/dev/add-ins/develop/sso-in-office-add-ins)</span></span>